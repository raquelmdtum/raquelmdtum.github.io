<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <title>pydeck</title>
        <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v1.13.0/mapbox-gl.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" />
    <script src='https://cdn.jsdelivr.net/npm/@deck.gl/jupyter-widget@~9.0.*/dist/index.js'></script>
    <style>
    body {
  margin: 0;
  padding: 0;
  overflow: hidden;
}

#deck-container {
  width: 100vw;
  height: 100vh;
}

#deck-container canvas {
  z-index: 1;
  background: none;
}
    </style>
  </head>
  <body>
    <div id="deck-container">
    </div>
  </body>
  <script>
    const container = document.getElementById('deck-container');
    const jsonInput = {
  "initialViewState": {
    "latitude": 37.5,
    "longitude": -96,
    "pitch": 45,
    "zoom": 4
  },
  "layers": [
    {
      "@@type": "ScatterplotLayer",
      "autoHighlight": true,
      "data": [
        {
          "count": 581,
          "latitude": 47.582261026886194,
          "longitude": -122.35698719869103
        },
        {
          "count": 529,
          "latitude": 40.704167908350385,
          "longitude": -74.01600847979245
        },
        {
          "count": 475,
          "latitude": 33.4533963108203,
          "longitude": -112.0550516994838
        },
        {
          "count": 393,
          "latitude": 34.056317539680386,
          "longitude": -118.22028837140907
        },
        {
          "count": 388,
          "latitude": 36.17246075654864,
          "longitude": -115.14739583187155
        },
        {
          "count": 362,
          "latitude": 32.73477686858774,
          "longitude": -117.13848529318552
        },
        {
          "count": 343,
          "latitude": 45.54583807420865,
          "longitude": -122.66856544698358
        },
        {
          "count": 309,
          "latitude": 29.747863984836115,
          "longitude": -95.362438305832
        }
      ],
      "getFillColor": "@@=[255, 0, 0, 180]",
      "getLineColor": "@@=[255, 255, 255]",
      "getPosition": "@@=[longitude, latitude]",
      "getRadius": 15000,
      "id": "924f71ae-25bd-4bdf-aab3-fa4eb720efa0",
      "lineWidthMinPixels": 2,
      "pickable": true,
      "stroke": true
    },
    {
      "@@type": "IconLayer",
      "autoHighlight": true,
      "data": [
        {
          "base_lat": 33.4680085999,
          "base_lon": -111.961734255,
          "base_name": "NG Papago Military Reservation",
          "base_state": "Arizona",
          "distance_km": 8.825298848640855,
          "hotspot_count": 475.0,
          "hotspot_lat": 33.4533963108203,
          "hotspot_lon": -112.0550516994838,
          "icon_data": {
            "anchorY": 128,
            "height": 128,
            "url": "https://img.icons8.com/plasticine/100/000000/marker.png",
            "width": 128
          }
        },
        {
          "base_lat": 33.4258330523,
          "base_lon": -112.011682902,
          "base_name": "Sky Harbor IAP",
          "base_state": "Arizona",
          "distance_km": 5.060517499027571,
          "hotspot_count": 475.0,
          "hotspot_lat": 33.4533963108203,
          "hotspot_lon": -112.0550516994838,
          "icon_data": {
            "anchorY": 128,
            "height": 128,
            "url": "https://img.icons8.com/plasticine/100/000000/marker.png",
            "width": 128
          }
        },
        {
          "base_lat": 36.2384449698,
          "base_lon": -115.135834801,
          "base_name": "Nellis Annex",
          "base_state": "Nevada",
          "distance_km": 7.395241046760805,
          "hotspot_count": 388.0,
          "hotspot_lat": 36.17246075654864,
          "hotspot_lon": -115.14739583187155,
          "icon_data": {
            "anchorY": 128,
            "height": 128,
            "url": "https://img.icons8.com/plasticine/100/000000/marker.png",
            "width": 128
          }
        },
        {
          "base_lat": 32.7000190451,
          "base_lon": -117.207088939,
          "base_name": "NAVBASE Coronado",
          "base_state": "California",
          "distance_km": 7.498232527595151,
          "hotspot_count": 362.0,
          "hotspot_lat": 32.73477686858774,
          "hotspot_lon": -117.13848529318552,
          "icon_data": {
            "anchorY": 128,
            "height": 128,
            "url": "https://img.icons8.com/plasticine/100/000000/marker.png",
            "width": 128
          }
        },
        {
          "base_lat": 32.7486743431,
          "base_lon": -117.197008871,
          "base_name": "Old Town Site 1",
          "base_state": "California",
          "distance_km": 5.6975132378077475,
          "hotspot_count": 362.0,
          "hotspot_lat": 32.73477686858774,
          "hotspot_lon": -117.13848529318552,
          "icon_data": {
            "anchorY": 128,
            "height": 128,
            "url": "https://img.icons8.com/plasticine/100/000000/marker.png",
            "width": 128
          }
        },
        {
          "base_lat": 32.7136561362,
          "base_lon": -117.172024897,
          "base_name": "Broadway Complex",
          "base_state": "California",
          "distance_km": 3.92066723476874,
          "hotspot_count": 362.0,
          "hotspot_lat": 32.73477686858774,
          "hotspot_lon": -117.13848529318552,
          "icon_data": {
            "anchorY": 128,
            "height": 128,
            "url": "https://img.icons8.com/plasticine/100/000000/marker.png",
            "width": 128
          }
        },
        {
          "base_lat": 32.8048190699,
          "base_lon": -117.093958022,
          "base_name": "Mission Gorge Rec Area",
          "base_state": "California",
          "distance_km": 8.81718458556546,
          "hotspot_count": 362.0,
          "hotspot_lat": 32.73477686858774,
          "hotspot_lon": -117.13848529318552,
          "icon_data": {
            "anchorY": 128,
            "height": 128,
            "url": "https://img.icons8.com/plasticine/100/000000/marker.png",
            "width": 128
          }
        },
        {
          "base_lat": 32.6678869196,
          "base_lon": -117.157059858,
          "base_name": "Amphib Base Coronado East",
          "base_state": "California",
          "distance_km": 7.619759907340778,
          "hotspot_count": 362.0,
          "hotspot_lat": 32.73477686858774,
          "hotspot_lon": -117.13848529318552,
          "icon_data": {
            "anchorY": 128,
            "height": 128,
            "url": "https://img.icons8.com/plasticine/100/000000/marker.png",
            "width": 128
          }
        },
        {
          "base_lat": 32.6713189664,
          "base_lon": -117.167654101,
          "base_name": "Amphib Base Coronado West",
          "base_state": "California",
          "distance_km": 7.550212896751053,
          "hotspot_count": 362.0,
          "hotspot_lat": 32.73477686858774,
          "hotspot_lon": -117.13848529318552,
          "icon_data": {
            "anchorY": 128,
            "height": 128,
            "url": "https://img.icons8.com/plasticine/100/000000/marker.png",
            "width": 128
          }
        },
        {
          "base_lat": 32.7262714976,
          "base_lon": -117.145036279,
          "base_name": "Balboa Hospital",
          "base_state": "California",
          "distance_km": 1.125514491690105,
          "hotspot_count": 362.0,
          "hotspot_lat": 32.73477686858774,
          "hotspot_lon": -117.13848529318552,
          "icon_data": {
            "anchorY": 128,
            "height": 128,
            "url": "https://img.icons8.com/plasticine/100/000000/marker.png",
            "width": 128
          }
        },
        {
          "base_lat": 32.7293500339,
          "base_lon": -117.220992794,
          "base_name": "Former NTC",
          "base_state": "California",
          "distance_km": 7.757193712884173,
          "hotspot_count": 362.0,
          "hotspot_lat": 32.73477686858774,
          "hotspot_lon": -117.13848529318552,
          "icon_data": {
            "anchorY": 128,
            "height": 128,
            "url": "https://img.icons8.com/plasticine/100/000000/marker.png",
            "width": 128
          }
        },
        {
          "base_lat": 32.6757646692,
          "base_lon": -117.122748674,
          "base_name": "NAVBASE San Diego CA",
          "base_state": "California",
          "distance_km": 6.7086800771984585,
          "hotspot_count": 362.0,
          "hotspot_lat": 32.73477686858774,
          "hotspot_lon": -117.13848529318552,
          "icon_data": {
            "anchorY": 128,
            "height": 128,
            "url": "https://img.icons8.com/plasticine/100/000000/marker.png",
            "width": 128
          }
        },
        {
          "base_lat": 32.7246963035,
          "base_lon": -117.218431918,
          "base_name": "Harbor Drive",
          "base_state": "California",
          "distance_km": 7.576890264565726,
          "hotspot_count": 362.0,
          "hotspot_lat": 32.73477686858774,
          "hotspot_lon": -117.13848529318552,
          "icon_data": {
            "anchorY": 128,
            "height": 128,
            "url": "https://img.icons8.com/plasticine/100/000000/marker.png",
            "width": 128
          }
        },
        {
          "base_lat": 32.7401689479,
          "base_lon": -117.197685657,
          "base_name": "MCRD San Diego",
          "base_state": "California",
          "distance_km": 5.5809190329923,
          "hotspot_count": 362.0,
          "hotspot_lat": 32.73477686858774,
          "hotspot_lon": -117.13848529318552,
          "icon_data": {
            "anchorY": 128,
            "height": 128,
            "url": "https://img.icons8.com/plasticine/100/000000/marker.png",
            "width": 128
          }
        },
        {
          "base_lat": 32.6848793364,
          "base_lon": -117.119468049,
          "base_name": "Dryside",
          "base_state": "California",
          "distance_km": 5.813767972359389,
          "hotspot_count": 362.0,
          "hotspot_lat": 32.73477686858774,
          "hotspot_lon": -117.13848529318552,
          "icon_data": {
            "anchorY": 128,
            "height": 128,
            "url": "https://img.icons8.com/plasticine/100/000000/marker.png",
            "width": 128
          }
        },
        {
          "base_lat": 32.6720920869,
          "base_lon": -117.113270451,
          "base_name": "National City",
          "base_state": "California",
          "distance_km": 7.342733874817872,
          "hotspot_count": 362.0,
          "hotspot_lat": 32.73477686858774,
          "hotspot_lon": -117.13848529318552,
          "icon_data": {
            "anchorY": 128,
            "height": 128,
            "url": "https://img.icons8.com/plasticine/100/000000/marker.png",
            "width": 128
          }
        },
        {
          "base_lat": 45.5783794843,
          "base_lon": -122.595521925,
          "base_name": "Portland IAP ANG",
          "base_state": "Oregon",
          "distance_km": 6.7528624670945705,
          "hotspot_count": 343.0,
          "hotspot_lat": 45.54583807420865,
          "hotspot_lon": -122.66856544698358,
          "icon_data": {
            "anchorY": 128,
            "height": 128,
            "url": "https://img.icons8.com/plasticine/100/000000/marker.png",
            "width": 128
          }
        }
      ],
      "getIcon": "@@=icon_data",
      "getPosition": "@@=[base_lon, base_lat]",
      "id": "3b1214a5-b65c-4e28-b76e-32dd608150a5",
      "pickable": true,
      "sizeScale": 40
    }
  ],
  "mapProvider": "carto",
  "mapStyle": "https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json",
  "views": [
    {
      "@@type": "MapView",
      "controller": true
    }
  ]
};
    const tooltip = {'text': '{base_name}'};
    const customLibraries = null;
    const configuration = null;

    const deckInstance = createDeck({
                  container,
      jsonInput,
      tooltip,
      customLibraries,
      configuration
    });

  </script>
</html>